<blc_admin:admin_field_builder fieldBuilder="${field.fieldBuilder}">

    <div class="field-label" th:text="#{${field.friendlyName}}" />
 
    <div th:classappend="${field.styleClass}">
    
        <input type="hidden"
               th:id="${field.jsonFieldName}"
               th:name="'fields[\&#39;'+${field.jsonFieldName}+'\&#39;].value'"
               th:value="${field.json}"/>
    
        <a th:class="${field.styleClass == 'rule-builder-simple' ? 'add-rule' : 'add-item-rule'}" 
           href="#" th:inline="text">Add [[#{${field.friendlyName}}]] Rule</a>
    
        <div th:id="${field.name}"></div>
    
    </div>
    
    <script type="text/javascript" th:inline="javascript">
        /*<![CDATA[*/
        $(document).ready(function() {
            var hiddenId = /*[[${field.jsonFieldName}]]*/ {};
            var containerId = /*[[${field.name}]]*/ {};
            var fields = /*[[${fieldWrapper}]]*/ {};
            var data = /*[[${field.dataWrapper}]]*/ {};
            
            var condition = BLCAdmin.conditions.addCondition(hiddenId, containerId, fields, data);
            
            $('#' + condition.containerId).conditionsBuilder(condition.json);
            condition.builder = $('#' + condition.containerId).conditionsBuilder('builder');
        });
        /*]]>*/
    </script>
    
</blc_admin:admin_field_builder>