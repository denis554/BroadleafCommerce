<comment th:remove="all">
<!-- This component represents a list grid toolbar -->
<!-- Additional parameters that can be specified include: -->
<!--    hideActionButtons - if set to true, will not render the sort/filter buttons -->
</comment>


<table class="list-grid-table responsive twelve"
       th:classappend="${listGrid.listGridType != 'inline'}? 'table-hover'"
       th:attr="data-listgridtype=${listGrid.listGridType},data-currenturl=${currentUrl}"
       blc_admin:component_id="${listGrid}">
    <thead>
        <tr>
            <th width="70">
                <div class="listgrid-headerBtn nosplit">
                    <div class="listgrid-title"></div>
               </div>
            </th>
                        
            <th th:each="headerField : ${listGrid.headerFields}"
                th:class="${'th' + headerFieldStat.count}"
                th:inline="text"
                scope="col">

                <div href="#" class="listgrid-headerBtn split dropdown">
                    <div class="listgrid-title">
                        <i class="sort-icon"></i>&nbsp;[[#{${headerField.friendlyName}}]]
                    </div>

                    <span class="hide-for-small"></span>
                    <ul>
                        <li><a class="sort down" href="#">Sort A - Z</a></li>
                        <li><a class="sort up" href="#">Sort Z - A</a></li>
                        <li class="divider"></li>
                        <li>                                  
                            <div class="filter-fields" th:attr="data-action=@{${listGrid.path}}">
                                <input type="hidden" class="property-name"
                                    th:name="${'criteria[' + headerFieldStat.index + '].propertyId'}" th:value="${headerField.name}" />
                                <input type="hidden" class="property-sort" th:name="${'criteria[' + headerFieldStat.index + '].sortType'}" />
                                <label>Filter:</label>
                                <div class="listgrid-criteria" th:attr="data-field-index=${headerFieldStat.index}">
                                    <div class="listgrid-criteria-container">
                                        <div th:remove="element" 
                                        th:substituteby="${'fields/filter/' + #strings.toLowerCase(headerField.fieldType)}" />
                                    </div>
                                </div>
                                <a href="#" class="listgrid-filter button small radius">Filter</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </th>
            
            <th width="90">
                <div class="listgrid-headerBtn split dropdown">
                    <div class="listgrid-title">
                        <i class="sort-icon"></i>&nbsp;Id
                    </div>
                    
                    <span class="hide-for-small"></span>
                    <ul class="end">
                        <li><a class="sort down" href="#">Sort A - Z</a></li>
                        <li><a class="sort up" href="#">Sort Z - A</a></li>
                        <li class="divider"></li>
                        <li>                                  
                            <div class="filter-fields" th:attr="data-action=@{${listGrid.path}}">
                                <input type="hidden" class="property-name"
                                    th:name="${'criteria[' + #lists.size(listGrid.headerFields) + '].propertyId'}" value="id" />
                                <input type="hidden" class="property-sort" th:name="${'criteria[' + #lists.size(listGrid.headerFields) + '].sortType'}" />
                                <label>Filter:</label>
                                <div class="listgrid-criteria" th:attr="data-field-index=${#lists.size(listGrid.headerFields)}">
                                    <div class="listgrid-criteria-container">
                                        <div th:remove="element" 
                                        th:substituteby="${'fields/filter/id'}" />
                                    </div>
                                </div>
                                <a href="#" class="listgrid-filter button small radius">Filter</a>
                            </div>
                        </li>
                    </ul>
                    
               </div>
            </th>
            
        </tr>
    </thead>
    <tbody>
    
        <tr th:if="${#lists.isEmpty(listGrid.records)}">
            <td th:colspan="${#lists.size(listGrid.headerFields) + 2}" class="list-grid-no-results">
                (No records found)
            </td>
        </tr>
    
        <tr th:each="record : ${listGrid.records}"
            th:unless="${#lists.isEmpty(listGrid.records)}"
            th:classappend="${listGrid.listGridType != 'main'}? 'clickable'"
            th:attr="data-link=@{${record.path}}">
            
            <td style="font-size: 20px;">
                <a th:href="@{${record.path}}" class="sub-list-grid-update"><i class="foundicon-edit"></i></a>
                <a th:href="@{${record.path + '/delete'}}" class="sub-list-grid-remove"><i class="foundicon-trash"></i></a>
            </td>
                        
            <td th:each="field : ${record.fields}"
                th:class="${'td' + fieldStat.count}"
                th:switch="${listGrid.listGridType}"
                th:attr="data-fieldname=${field.name},data-fieldvalue=${field.value}">
                
                <span th:case="'main'" th:remove="tag">
                    <a th:if="${fieldStat.first}" 
                        th:href="@{${record.path}}"
                        th:text="${field.value}" />
                        
                    <span th:unless="${fieldStat.first}" th:remove="tag" th:text="${field.displayValue}" />
                </span>
                
                <span th:case="*" th:remove="tag" th:inline="text">
                    <a th:if="${fieldStat.first and record.canLinkToExternalEntity}" 
                        th:href="@{${record.externalEntityPath}}"
                        class="modal-view"
                        th:text="${field.value}" />
                        
                    <span th:unless="${fieldStat.first and record.canLinkToExternalEntity}" 
                        th:remove="tag" 
                        th:text="${field.value}" />
                </span>
                
            </td>
            
            <td data-fieldname="id" th:text="${record.id}" th:attr="data-fieldvalue=${record.id}" />
            
        </tr>
    </tbody>
</table>
