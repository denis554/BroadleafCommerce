SET foreign_key_checks = 0;
set sql_mode = '';

DELETE FROM broadleafcommerce.BLC_CATEGORY;

LOAD DATA INFILE '/home/vikalp/GroundZero/Work/Projects/broadleaf/workspace/BroadleafCommerceDemo/../BroadleafCommerce/sql/0.0.0/mysql/category.load' 
INTO TABLE broadleafcommerce.BLC_CATEGORY
FIELDS TERMINATED BY '|' ENCLOSED BY "" ESCAPED BY '\\'
(CATEGORY_ID, DESCRIPTION, DISPLAY_TEMPLATE, LONG_DESCRIPTION, NAME, URL, URL_KEY, DEFAULT_PARENT_CATEGORY_ID)
  SET ACTIVE_END_DATE = DATE_ADD(CURDATE(), INTERVAL 31 DAY),
  ACTIVE_START_DATE = CURDATE();

UPDATE broadleafcommerce.BLC_CATEGORY
SET DEFAULT_PARENT_CATEGORY_ID = null
WHERE DEFAULT_PARENT_CATEGORY_ID = 0;

DELETE FROM broadleafcommerce.BLC_PRODUCT;

LOAD DATA INFILE '/home/vikalp/GroundZero/Work/Projects/broadleaf/workspace/BroadleafCommerceDemo/../BroadleafCommerce/sql/0.0.0/mysql/product.load' 
INTO TABLE broadleafcommerce.BLC_PRODUCT
FIELDS TERMINATED BY '|' ENCLOSED BY "" ESCAPED BY '\\'
(PRODUCT_ID, DEFAULT_CATEGORY_ID, NAME)
  SET ACTIVE_END_DATE = DATE_ADD(CURDATE(), INTERVAL 31 DAY),
  ACTIVE_START_DATE = CURDATE();
  
DELETE FROM broadleafcommerce.BLC_CATEGORY_XREF;

LOAD DATA INFILE '/home/vikalp/GroundZero/Work/Projects/broadleaf/workspace/BroadleafCommerceDemo/../BroadleafCommerce/sql/0.0.0/mysql/category_xref.load' 
INTO TABLE broadleafcommerce.BLC_CATEGORY_XREF
FIELDS TERMINATED BY '|' ENCLOSED BY "" ESCAPED BY '\\'
(SUB_CATEGORY_ID, CATEGORY_ID, DISPLAY_ORDER);

DELETE FROM broadleafcommerce.BLC_CATEGORY_PRODUCT_XREF;

LOAD DATA INFILE '/home/vikalp/GroundZero/Work/Projects/broadleaf/workspace/BroadleafCommerceDemo/../BroadleafCommerce/sql/0.0.0/mysql/category_product_xref.load' 
INTO TABLE broadleafcommerce.BLC_CATEGORY_PRODUCT_XREF
FIELDS TERMINATED BY '|' ENCLOSED BY "" ESCAPED BY '\\'
(PRODUCT_ID, CATEGORY_ID, DISPLAY_ORDER);


SET foreign_key_checks = 1;

