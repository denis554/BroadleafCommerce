<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%">

<mx:Script>
	<![CDATA[
		import org.broadleafcommerce.admin.catalog.control.events.ShowFileUploadEvent;

	private function handleUploadClick(event:Event):void{
		var sfue:ShowFileUploadEvent = new ShowFileUploadEvent("",this.data);
		sfue.dispatch();
	}		
	]]>
</mx:Script>

	<mx:Binding source="data.key"
	            destination="keyText.text" />
	<mx:Binding source="data.url"
	            destination="urlLabel.text" />
	<mx:Binding source="'http://localhost:8080/broadleafadmin/'+data.url"
	            destination="thumbnail.source" />
	<mx:Binding source="data.name" 
		        destination="nameLabel.text"/>
	<mx:Binding source="data.label" 
		        destination="labelLabel.text"/>
		        

	<mx:HBox width="100%">
		<mx:VBox>
			<mx:Image id="thumbnail" maxHeight="75" maxWidth="75" maintainAspectRatio="true" 
				horizontalAlign="center" horizontalCenter="0" y="27" width="75" height="75"/>
			<mx:LinkButton x="10" y="4" label="Upload" horizontalCenter="0" click="handleUploadClick(event)"/>			
		</mx:VBox>
		<mx:Text id="keyText" />
		<mx:VBox>
			<mx:HBox>
				<mx:Text text="Name:" /><mx:Text id="nameLabel"  y="0" x="40"/>				
			</mx:HBox>
			<mx:HBox>
				<mx:Text text="Label:"  x="2" y="23"/> <mx:Text id="labelLabel"  y="23" x="40"/>					
			</mx:HBox>
			<mx:HBox>
				<mx:Text text="URL:"  y="45" x="10"/>	<mx:Text id="urlLabel"  y="45" x="40"/>				
			</mx:HBox>
		</mx:VBox>
	</mx:HBox>
</mx:Canvas>
