<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:product="org.broadleafcommerce.admin.view.catalog.product.*"
	currentState="none"
	width="95%">
	<mx:Script>
		<![CDATA[
			import org.broadleafcommerce.admin.control.events.catalog.product.EditProductEvent;
			import org.broadleafcommerce.admin.control.events.catalog.product.NewProductEvent;
			import org.broadleafcommerce.admin.model.AppModelLocator;
			import org.broadleafcommerce.admin.model.view.ProductModel;
			
			[Bindable]
			private var productModel:ProductModel = AppModelLocator.getInstance().productModel;
		
			private function handleNewProduct(event:Event):void{
				new NewProductEvent().dispatch();
			}
			
		]]>
	</mx:Script>
	<mx:Binding
		source="productModel.viewState"
		destination="currentState"/>
	<mx:VBox 
		width="100%"
		height="100%"
		horizontalGap="20">
		<mx:VBox
			verticalGap="10">
			<mx:LinkButton
				id="newProductLinkButton"
				label="New Product"
				click="handleNewProduct(event)"/>
		</mx:VBox>
		<mx:Canvas
			id="workingAreaHBox"
			width="100%"
			height="500"
			borderStyle="solid"
			cornerRadius="4">
			<product:ProductsView id="productsView"  width="490" height="445"/>
			<mx:TabNavigator x="498" y="10" width="740" height="436">
				<product:ProductEditForm id="productEditForm" label="General" width="100%" height="100%" />
				<mx:Canvas label="Media" width="100%" height="100%">
				</mx:Canvas>
				<mx:Canvas label="Skus" width="100%" height="100%" visible="false">
				</mx:Canvas>				
			</mx:TabNavigator>
			
			
		</mx:Canvas>		
	</mx:VBox>
	<mx:states>
		<mx:State
			name="{ProductModel.STATE_NONE}">
		</mx:State>
		<mx:State
			name="{ProductModel.STATE_NEW}">
		</mx:State>
		<mx:State
			name="{ProductModel.STATE_EDIT}">
		</mx:State>
		<mx:State
			name="{ProductModel.STATE_VIEW}">
		</mx:State>
	</mx:states>
</mx:Canvas>